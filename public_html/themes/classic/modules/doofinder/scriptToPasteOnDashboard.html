<script type="text/javascript">
function r(f){/in/.test(document.readyState)?setTimeout('r('+f+')',9):f()}

r(function(){
  var typeLayer = 'classic';
  if (document.getElementById("doofinder-embedded-container")) {
    typeLayer = 'embedded'
  }
  var doofinder_script =`//cdn.doofinder.com/media/js/doofinder-${typeLayer}.7.latest.min.js`;
  (function(d,t){var f=d.createElement(t),s=d.getElementsByTagName(t)[0];f.async=1;
  f.src=('https:'==location.protocol?'https:':'http:')+doofinder_script;
  f.setAttribute('charset','utf-8');
  s.parentNode.insertBefore(f,s)}(document,'script'));
});

var embeddedPath = "https://www.herbobarcelona.com/busqueda?controller=search";
var searchEngineHashId = "d3cb669dcd9b60333a931f5aa82e007b";
var inputSelector = "#input_search";
/*
EXAMPLES:
- embeddedPath -  
Must be similar to: https://yoursite.es/search?controller=search 

- inputSelector -
For 1.6 by default may be: #search_query_top
For 1.7 by default may be: input[name='s']
*/
var dfClassicLayers = [{
  "hashid": searchEngineHashId,
  "zone": "eu1",
  "display": {
    "lang": "es",
    "width": "85%",
    "align": "center",
    "facets": {
        "width": "210px",
        "attached": "left"
    }
  },
  "queryInput": inputSelector ,
  "toogleInput": inputSelector,  
  "redirections": {
      "captureForm": true
  },  
  "callbacks":{
    loaded: (instance) => {
      instance.layer.queryInput.on("keydown", (e) => {
        if (e.keyCode == 13) {
          document.location = embeddedPath + "#/embedded/" +
            instance.layer.controller.serializeStatus();
          e.preventDefault();
        }
      })
    }    
  }  
}];

var dfEmbeddedLayers = [{
  "queryInput": inputSelector,
  "toogleInput": inputSelector,    
  "hashid": searchEngineHashId,
  "urlHash": true,
  "zone": "eu1",
  "display": {
    "position": "relative",
    "top": "0",
    "lang": "Spanish",
    "width": "100%",
    "height": "100%",
    "insertionPoint": "#doofinder-embedded-container",
    "facets": {
        attached: "left"
    }
  }    
}];
</script>